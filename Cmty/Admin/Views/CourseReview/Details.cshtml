@model Admin.Models.CourseViewModels

@{
    ViewBag.Title = "AddCourseTeacherMap";
}

<h2>添加授课教师</h2>

<div>
    <h4>课程详细信息</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Code)
        </dt>

        <dd>
           <label id="code">@Html.DisplayFor(model => model.Code)</label>
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.University)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.University)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Name)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Desp)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Desp)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PicUrl)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.PicUrl)
        </dd>

@foreach (var item in ViewBag.Emails) {
    <dt>
        授课教师
    </dt>

    <dd>
        @{
            <label id="email_del">@item</label>
            @:<a id="del_link" href="" onclick="del_course_teacker_map()">删除</a>
        }
    </dd>
}

        <dt>
            添加授课教师
        </dt>

        <dd>
            @{
                @Html.Editor("email")
                @:<a id="add_link" href="" onclick="add_course_teacker_map()">添加</a>
             }
        </dd>
    </dl>
</div>
<p>
    @Html.ActionLink("返回课程中心", "CourseCenter", new { page = 0 })
</p>

<script>
    function add_course_teacker_map() {
        var code = document.getElementById("code").innerText.trim();
        var email = document.getElementById("email").value.trim();
        var url = "/CourseReview/AddCourseTeacherMap?code=" + code + "&&email= " + email + "";
        document.getElementById("add_link").setAttribute("href", url);
    }

    function del_course_teacker_map() {
        var code = document.getElementById("code").innerText.trim();
        var email = document.getElementById("email_del").innerText.trim();
        var url = "/CourseReview/DelCourseTeacherMap?code=" + code + "&&email= " + email + "";
        document.getElementById("del_link").setAttribute("href", url);
    }
</script>