@model MVCViews.Models.CourseViewModels

@{
    ViewBag.Title = "Details";
}

<h2>课程信息</h2>

<div>
    <h4>详细信息</h4>
    <hr />
    <dl class="dl-horizontal">
        <dt>
            @Html.DisplayNameFor(model => model.Name)
        </dt>

        <dd>
            <h3>@Html.DisplayFor(model => model.Name)</h3>
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.University)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.University)
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.PicUrl)
        </dt>

        <dd>
            <img class="lazy" rel="popover" src="http://localhost:8090/Course_Url/@Model.PicUrl" width="120" height="120" />
        </dd>

        <dt>
            @Html.DisplayNameFor(model => model.Desp)
        </dt>

        <dd>
            @Html.DisplayFor(model => model.Desp)
        </dd>

    </dl>
</div>
<div>
    @foreach(var cmt in ViewBag.CmtList)
    {
        <div>
            <h3>#@cmt.Floor @cmt.Email</h3> 
            <p>@cmt.PubDate : @cmt.Content</p>
        </div>
    }

    <div>
        <label id="code_label" hidden>@Model.Code</label>
        评论: @Html.Editor("comment_edit")
        <a id="href_comment" href="" onclick="make_comment()">发送</a>
    </div>
</div>
<p>
    @Html.ActionLink("返回主页", "Index")
</p>

<script>
    function make_comment() {
        var content = document.getElementById("comment_edit").value;
        var code = document.getElementById("code_label").innerText;
        var href = "/Course/MakeComment?code=" + code + "&content=" + content;
        document.getElementById("href_comment").setAttribute("href", href);
    }
</script>